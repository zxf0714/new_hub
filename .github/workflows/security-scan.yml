name: ActiveMQ安全扫描
on:
  schedule:
    - cron: '0 0 * * 1' # 每周一0点执行
  workflow_dispatch: # 支持手动触发

jobs:
  scan:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - name: 扫描安全配置
        run: |
          # 示例：检查认证配置是否存在
          if grep -q "authentication" config/activemq-security.xml; then
            echo "认证配置已存在"
          else
            echo "认证配置缺失" && exit 1
          fi
